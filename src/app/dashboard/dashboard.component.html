<div class="mt-main">
</div>
<mat-progress-bar 
	mode="indeterminate"
	*ngIf="loading"
	class="fadeIn"></mat-progress-bar>
<div class="loading-txt text-center fadeIn" *ngIf="loading" >Loading ... </div>

<div *ngIf="!loading" class="container scoreboards-container fadeIn">
	<h1 class="page-title col-12">
		<mat-icon class="page-title-icon">dashboard</mat-icon>
		Dashboard
	</h1>
	<div class="row">
		<div class="col-12 col-md-6 scoreboard">
			<mat-card>
				<div class="text-center">
					
						<span class="bn">{{ balance | async }}</span> AR
				</div>
				<div class="text-center"><strong>Total balance</strong></div>
			</mat-card>
		</div>
		

		<div class="col-12 col-md-6 scoreboard">
			<mat-card>
				<div class="text-center">
					<a 
						mat-button
						target="_blank"
						href="https://viewblock.io/arweave/tx/{{lastTransactionID | async}}"
						class=" txurl">
						<span class="bn2">{{ lastTransactionID | async }}</span>
					</a>
				</div>
				<div class="text-center"><strong>Last TXID processed</strong></div>
			</mat-card>
		</div>
		
	</div>
</div>

<div class="container dashboard-container fadeIn" *ngIf="!loading" >
	<div class="row">
		<div class="col-12">
			<mat-card>
				<app-arweave-address [address]="mainAddress" class="addressurl">Wallet:</app-arweave-address>
			</mat-card>
		</div>
	</div>
	

	<h1 class="page-title col-12">
		My arwiki pages
	</h1>
	<div class="row" *ngIf="pages && pages.length === 0">
		<div class="col-12 text-center no-results">
			You don't have any arwiki page yet :)
		</div>
		<div class="col-12 text-center">
			<a mat-flat-button 
        routerLink="/{{ routeLang }}/create-page" color="primary">
				Create new arwiki page
			</a>
		</div>
	</div>
	<div class="row">
		<div class="col-12 col-md-6 card-page-container fadeIn" *ngFor="let page of pages">
			<mat-card class="card-page">

				<div *ngIf="page.img" class="text-center">
					<img class="card-page-img" src="{{ page.img }}">
				</div>
				<div>
					Id: {{ page.id }}
				</div>
				<div>
					Title: {{  page.title }}
				</div>
				<div>
					Slug: {{ page.slug }}
				</div>
				<div>
					Category: {{ page.category }}
				</div>
				<div>
					Language: {{ page.lang }}
				</div>
				<div class="text-right">
					<a mat-flat-button color="primary" routerLink="../preview/{{page.id}}">
						<mat-icon>visibility</mat-icon>
					</a>
				</div>
			</mat-card>
		</div>
	</div>

</div>
