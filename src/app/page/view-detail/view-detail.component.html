<div class="container preview-page-container">
	<div class="row">
		<h1 class="page-title col-9">
			<span class="fadeIn" *ngIf="pageTitle">{{ pageTitle }}</span>
		</h1>
		<div class="text-right page-title-buttons col-3">
			<button 
	    	type="button"
		  	mat-mini-fab 
		  	*ngIf="pageTitle"
		  	class="btn-toolbar fadeIn" 
		  	color="primary"
		  	matTooltip="Edit">
		    <mat-icon>edit</mat-icon>
		  </button>
	    <button 
	    	type="button"
		  	mat-mini-fab 
		  	class="btn-toolbar" 
		  	color="primary"
		  	(click)="goBack()"
		  	matTooltip="{{ 'CREATE_PAGE.FRM_BTN_GOBACK' | translate }}">
		    <mat-icon>navigate_before</mat-icon>
		  </button>

		</div>
	  <p class="text-left fadeIn col-12 col-md-6" *ngIf="pageCategory">
	  	<strong>Category:</strong>
	  	<a mat-button routerLink="../category/{{pageCategory}}">
				{{ pageCategory }}
			</a>
	  </p>
	  <p class="text-right fadeIn col-12 col-md-6" *ngIf="block.timestamp">
	  	<strong>Last update:</strong> {{ timestampToDate(block.timestamp) | date:'short'}}	
	  </p>
	  <div class="separator col-12"></div>
	</div>
	<mat-spinner class="spinner-center" *ngIf="loadingPage"></mat-spinner>
		
	<div class="row">
		<div 
			*ngIf="htmlContent"
			class="col-12 col-md-3 toc-parent-container fadeIn">
			<mat-card *ngIf="pageImg">
				<a target="_blank" href="{{ baseURL + pageImg }}">
					<img class="toc-image" src="{{ baseURL + pageImg }}">
				</a>
			</mat-card>
			<div class="toc-container">
				<h3 class="toc-container-title">Content overview</h3>
				<div *ngIf="!toc.length">
					--
				</div>

				<div *ngFor="let tocLink of toc">
					<a 
						class="toc-link" 
						[class.active]="validateTOCactiveMenu(tocLink.top)" 
						[routerLink]="['/', routeLang, routeSlug]"
						[fragment]="tocLink.id">
						<span *ngIf="tocLink.type === 'H1'"></span>
						<span *ngIf="tocLink.type === 'H2'">&nbsp;</span>
						<span *ngIf="tocLink.type === 'H3'">&nbsp;&nbsp;</span>
						<span *ngIf="tocLink.type === 'H4'">&nbsp;&nbsp;&nbsp;</span>
						{{ tocLink.text }}
					</a>
				</div>
			</div>
		</div>
		<div 
			id="arwiki-page-content-detail"
			class="col-12 col-md-9 fadeIn" 
			[innerHTML]="htmlContent"></div>

		<p class="text-left mini-text fadeIn col-12 col-md-6" *ngIf="pageOwner">
	  	<strong>Created by:</strong> {{ pageOwner }}
	  	<mat-icon
	  		 *ngIf="arverifyProcessedAddressesMap[pageOwner] && arverifyProcessedAddressesMap[pageOwner].verified"
	  		 class="green mini-icon">verified_user</mat-icon>
	  </p>
	  <p class="text-right mini-text fadeIn col-12 col-md-6" *ngIf="pageId">
	  	<strong>TX:</strong> {{ pageId }}
	  </p>
	</div>

</div>


	
